(this["webpackJsonpdinobo-dashboard"]=this["webpackJsonpdinobo-dashboard"]||[]).push([[0],{256:function(e,t,a){e.exports=a(436)},277:function(e,t,a){},279:function(e,t,a){},280:function(e,t,a){},434:function(e,t,a){e.exports=a.p+"static/media/Dino-cheerful-brand.26b2f2cc.png"},435:function(e,t,a){e.exports=a.p+"static/media/argon-react-white.275a2629.png"},436:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(36),l=a.n(c),o=a(47),i=a(92),s=a(23),m=a(16),u=a.n(m),d=a(31),p=a(6),h=a(220),g=a(222);const f=Object(g.a)({uri:"".concat("https://serverdino.herokuapp.com","/graphql")}),b=new h.a({uri:"wss://serverdino.herokuapp.com/subscriptions",options:{reconnect:!0}}),E=Object(s.split)(({query:e})=>{const t=Object(p.q)(e);return"OperationDefinition"===t.kind&&"subscription"===t.operation},b,f),y=new s.ApolloLink(function(){var e=Object(d.a)(u.a.mark((function e(t,a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setContext({headers:{authorization:localStorage.getItem("token"),refresh_token:localStorage.getItem("refreshToken"),"Access-Control-Allow-Origin":"*"}}),e.abrupt("return",a(t));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),v=new s.ApolloClient({cache:new s.InMemoryCache,link:Object(s.concat)(y,E)});a(277),a(278),a(279),a(280),a(281);var k=a(439),x=a(440),O=a(441),j=a(442),w=a(443),N=a(459),C=a(444),S=a(445),$=a(446),A=a(447),q=a(448),I=a(449),U=a(224),D=a(450);class T extends r.a.Component{constructor(e){super(e),this.state={collapseOpen:!1},this.toggleCollapse=()=>{this.setState({collapseOpen:!this.state.collapseOpen})},this.closeCollapse=()=>{this.setState({collapseOpen:!1})},this.createLinks=e=>e.map((e,t)=>e.hide?null:r.a.createElement(k.a,{key:t},r.a.createElement(x.a,{to:e.layout+e.path,tag:o.c,onClick:this.closeCollapse,activeClassName:"active"},r.a.createElement("i",{className:e.icon}),e.name))),this.activeRoute.bind(this)}activeRoute(e){return this.props.location.pathname.indexOf(e)>-1?"active":""}render(){const e=this.props,t=e.routes,a=e.logo;let n;return a&&a.innerLink?n={to:a.innerLink,tag:o.b}:a&&a.outterLink&&(n={href:a.outterLink,target:"_blank"}),r.a.createElement(O.a,{className:"navbar-vertical fixed-left navbar-light bg-white",expand:"md",id:"sidenav-main"},r.a.createElement(j.a,{fluid:!0},r.a.createElement("button",{className:"navbar-toggler",type:"button",onClick:this.toggleCollapse},r.a.createElement("span",{className:"navbar-toggler-icon"})),a?r.a.createElement(w.a,Object.assign({className:"pt-0"},n),r.a.createElement("img",{alt:a.imgAlt,className:"navbar-brand-img",src:a.imgSrc})):null,r.a.createElement(N.a,{navbar:!0,isOpen:this.state.collapseOpen},r.a.createElement("div",{className:"navbar-collapse-header d-md-none"},r.a.createElement(C.a,null,a?r.a.createElement(S.a,{className:"collapse-brand",xs:"6"},a.innerLink?r.a.createElement(o.b,{to:a.innerLink},r.a.createElement("img",{alt:a.imgAlt,src:a.imgSrc})):r.a.createElement("a",{href:a.outterLink},r.a.createElement("img",{alt:a.imgAlt,src:a.imgSrc}))):null,r.a.createElement(S.a,{className:"collapse-close",xs:"6"},r.a.createElement("button",{className:"navbar-toggler",type:"button",onClick:this.toggleCollapse},r.a.createElement("span",null),r.a.createElement("span",null))))),r.a.createElement($.a,{className:"mt-4 mb-3 d-md-none"},r.a.createElement(A.a,{className:"input-group-rounded input-group-merge"},r.a.createElement(q.a,{"aria-label":"Search",className:"form-control-rounded form-control-prepended",placeholder:"Search",type:"search"}),r.a.createElement(I.a,{addonType:"prepend"},r.a.createElement(U.a,null,r.a.createElement("span",{className:"fa fa-search"}))))),r.a.createElement(D.a,{navbar:!0},this.createLinks(t)))))}}T.defaultProps={routes:[{}]};var F=T,R=a(29);const L=function(){var e=Object(d.a)(u.a.mark((function e(t,a={},n="no-cache"){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.query({query:t,variables:a,fetchPolicy:n});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(d.a)(u.a.mark((function e(t,a={},n="no-cache"){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.mutate({mutation:t,variables:a,fetchPolicy:n});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var M=a(34);function z(){const e=Object(M.a)(["\n  query user($id: ID!) {\n    user(id: $id) {\n      id\n      name\n      email\n      phone\n      address\n      avatar\n      role\n      createdAt\n      updatedAt\n    }\n  }\n"]);return z=function(){return e},e}function P(){const e=Object(M.a)(["\n  query users {\n    users {\n      id\n      name\n      email\n      phone\n      role\n      createdAt\n      updatedAt\n    }\n  }\n"]);return P=function(){return e},e}function V(){const e=Object(M.a)(["\n  mutation resetPassword($token: String!, $password: String!) {\n    resetPassword(token: $token, password: $password) {\n      message\n    }\n  }\n"]);return V=function(){return e},e}function Y(){const e=Object(M.a)(["\n  query checkOTPForgot(\n    $email: String\n    $phone: String\n    $type: Boolean!\n    $otp: String!\n  ) {\n    checkOTPForgot(email: $email, phone: $phone, type: $type, otp: $otp)\n  }\n"]);return Y=function(){return e},e}function _(){const e=Object(M.a)(["\n  query forgotPassword($email: String, $phone: String, $type: Boolean!) {\n    forgotPassword(email: $email, phone: $phone, type: $type) {\n      message\n    }\n  }\n"]);return _=function(){return e},e}function H(){const e=Object(M.a)(["\n  mutation removeToLike($id: ID!) {\n    removeToLike(id: $id) {\n      message\n    }\n  }\n"]);return H=function(){return e},e}function Q(){const e=Object(M.a)(["\n  mutation addToLike($id: ID!) {\n    addToLike(id: $id) {\n      message\n    }\n  }\n"]);return Q=function(){return e},e}function J(){const e=Object(M.a)(["\n  mutation updateUserInfo($userUpdate: UserUpdate!) {\n    updateUserInfo(userUpdate: $userUpdate) {\n      message\n    }\n  }\n"]);return J=function(){return e},e}function W(){const e=Object(M.a)(["\n  query refreshToken {\n    user {\n      id\n      name\n      phone\n      role\n      avatar\n      email\n      address\n      likes {\n        id\n        amount\n        price\n        images\n        book {\n          id\n          name\n          images\n        }\n        name\n        sold\n      }\n      cart {\n        book {\n          id\n          amount\n          price\n          images\n          book {\n            id\n            name\n            images\n          }\n          name\n        }\n        amount\n        price\n      }\n      notifications {\n        order {\n          id\n          title\n          description\n          order {\n            id\n          }\n          seen\n          createdAt\n          updatedAt\n        }\n        book {\n          id\n          title\n          description\n          commentBook {\n            id\n            content\n            book {\n              id\n            }\n            author {\n              name\n            }\n            type\n            createdAt\n          }\n          seen\n          createdAt\n        }\n        post {\n          id\n          title\n          description\n          commentPost {\n            id\n            content\n            post {\n              id\n            }\n            author {\n              name\n            }\n            type\n            createdAt\n          }\n          seen\n          createdAt\n        }\n      }\n    }\n    token\n    refreshToken\n  }\n"]);return W=function(){return e},e}function X(){const e=Object(M.a)(["\n  mutation updateCart($dataCart: [DetailUpdate!]!) {\n    updateCart(dataCart: $dataCart) {\n      book {\n        id\n        amount\n        price\n        images\n        book {\n          name\n          images\n        }\n        name\n      }\n      amount\n      price\n    }\n  }\n"]);return X=function(){return e},e}function G(){const e=Object(M.a)(["\n  query profile {\n    profile {\n      id\n      name\n      phone\n      role\n      avatar\n      email\n      address\n      likes {\n        id\n        amount\n        price\n        images\n        book {\n          id\n          name\n          images\n        }\n        name\n        sold\n      }\n      store {\n        id\n        name\n        description\n      }\n      cart {\n        book {\n          id\n          amount\n          price\n          images\n          book {\n            name\n            images\n          }\n          name\n        }\n        amount\n        price\n      }\n      notifications {\n        order {\n          id\n          title\n          description\n          order {\n            id\n          }\n          seen\n          createdAt\n          updatedAt\n        }\n        book {\n          id\n          title\n          description\n          commentBook {\n            id\n            content\n            book {\n              id\n            }\n            author {\n              name\n            }\n            type\n            createdAt\n          }\n          seen\n          createdAt\n        }\n        post {\n          id\n          title\n          description\n          commentPost {\n            id\n            content\n            post {\n              id\n            }\n            author {\n              name\n            }\n            type\n            createdAt\n          }\n          seen\n          createdAt\n        }\n      }\n    }\n  }\n"]);return G=function(){return e},e}function K(){const e=Object(M.a)(["\n  query verify($phone: String, $otp: String!, $type: Boolean!, $email: String) {\n    verify(phone: $phone, otp: $otp, type: $type, email: $email) {\n      message\n    }\n  }\n"]);return K=function(){return e},e}function Z(){const e=Object(M.a)(["\n  mutation register($newUser: UserInput!, $type: Boolean!) {\n    register(newUser: $newUser, type: $type) {\n      message\n    }\n  }\n"]);return Z=function(){return e},e}function ee(){const e=Object(M.a)(["\n  query login(\n    $phone: String\n    $password: String!\n    $type: Boolean!\n    $email: String\n  ) {\n    login(phone: $phone, password: $password, type: $type, email: $email) {\n      user {\n        id\n        name\n        phone\n        role\n        avatar\n        email\n        address\n      }\n      token\n      refreshToken\n    }\n  }\n"]);return ee=function(){return e},e}const te=Object(s.gql)(ee()),ae=(Object(s.gql)(Z()),Object(s.gql)(K()),Object(s.gql)(G()),Object(s.gql)(X()),Object(s.gql)(W()),Object(s.gql)(J()),Object(s.gql)(Q()),Object(s.gql)(H()),Object(s.gql)(_()),Object(s.gql)(Y()),Object(s.gql)(V()),Object(s.gql)(P())),ne=Object(s.gql)(z());var re=a(451),ce=a(452),le=a(453),oe=a(454),ie=a(455),se=a(253);var me=function(){const e=r.a.useRef(null),t=r.a.useRef(null),a=r.a.useState(!1),n=Object(R.a)(a,2),c=n[0],l=n[1];r.a.useEffect(()=>{e.current.value="huydoan@gmail.com",t.current.value="ta210402",sessionStorage.removeItem("isLogged")},[]);const o=function(){var a=Object(d.a)(u.a.mark((function a(n){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:n.preventDefault(),L(te,{email:e.current.value,password:t.current.value,type:!1}).then(({data:{login:e}})=>{"ADMIN"===e.user.role&&(sessionStorage.setItem("isLogged",!0),localStorage.setItem("token",e.token),localStorage.setItem("refreshToken",e.refreshToken),se.b.success("\u0110\u0103ng nh\u1eadp th\xe0nh c\xf4ng"),l(!0))}).catch(e=>{se.b.error("\u0110\u0103ng nh\u1eadp th\u1ea5t b\u1ea1i")});case 2:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,c?r.a.createElement(i.a,{from:"*",to:"/admin/index"}):null,r.a.createElement(S.a,{lg:"5",md:"7"},r.a.createElement(re.a,{className:"bg-secondary shadow border-0"},r.a.createElement(ce.a,{className:"bg-transparent text-center"},r.a.createElement("h4",{className:"text-uppercase ls-1 mb-1"},"Sign in")),r.a.createElement(le.a,{className:"px-lg-5 py-lg-5"},r.a.createElement($.a,{role:"form",onSubmit:e=>o(e)},r.a.createElement(oe.a,{className:"mb-3"},r.a.createElement(A.a,{className:"input-group-alternative"},r.a.createElement(I.a,{addonType:"prepend"},r.a.createElement(U.a,null,r.a.createElement("i",{className:"ni ni-email-83"}))),r.a.createElement(q.a,{placeholder:"Username",type:"text",autoComplete:"new-email",innerRef:e}))),r.a.createElement(oe.a,null,r.a.createElement(A.a,{className:"input-group-alternative"},r.a.createElement(I.a,{addonType:"prepend"},r.a.createElement(U.a,null,r.a.createElement("i",{className:"ni ni-lock-circle-open"}))),r.a.createElement(q.a,{placeholder:"Password",type:"password",autoComplete:"new-password",innerRef:t}))),r.a.createElement("div",{className:"text-center"},r.a.createElement(ie.a,{className:"my-4",color:"primary",type:"submit"},"Sign in")))))))},ue=a(456);function de(){const e=Object(M.a)(["\n  mutation deleteUniqueBook($id: ID!) {\n    deleteUniqueBook(id: $id) {\n      message\n    }\n  }\n"]);return de=function(){return e},e}function pe(){const e=Object(M.a)(["\n  mutation updateUniqueBook($dataUpdate: UniqueBookUpdate!, $id: ID!) {\n    updateUniqueBook(dataUpdate: $dataUpdate, id: $id) {\n      message\n    }\n  }\n"]);return pe=function(){return e},e}function he(){const e=Object(M.a)(["\n  mutation createUniqueBook($dataCreate: UniqueBookCreate!) {\n    createUniqueBook(dataCreate: $dataCreate) {\n      message\n    }\n  }\n"]);return he=function(){return e},e}function ge(){const e=Object(M.a)(["\n  query uniqueBook($id: ID!) {\n    uniqueBook(id: $id) {\n      name\n      images\n      year\n      numberOfReprint\n      publisher\n      author\n      description\n      createdAt\n      updatedAt\n      category {\n        id\n        name\n      }\n    }\n  }\n"]);return ge=function(){return e},e}function fe(){const e=Object(M.a)(["\n  query uniqueBooks {\n    uniqueBooks {\n      id\n      name\n      images\n      year\n      numberOfReprint\n      publisher\n      author\n      description\n      createdAt\n      updatedAt\n      category {\n        id\n        name\n      }\n    }\n  }\n"]);return fe=function(){return e},e}const be=Object(s.gql)(fe()),Ee=Object(s.gql)(ge()),ye=Object(s.gql)(he()),ve=Object(s.gql)(pe()),ke=Object(s.gql)(de());function xe(){const e=Object(M.a)(["\n  mutation deleteCategory($id: ID!) {\n    deleteCategory(id: $id) {\n      message\n    }\n  }\n"]);return xe=function(){return e},e}function Oe(){const e=Object(M.a)(["\n  mutation updateCategory($id: String!, $name: String) {\n    updateCategory(id: $id, name: $name) {\n      message\n    }\n  }\n"]);return Oe=function(){return e},e}function je(){const e=Object(M.a)(["\n  mutation createCategory($name: String!) {\n    createCategory(name: $name) {\n      message\n    }\n  }\n"]);return je=function(){return e},e}function we(){const e=Object(M.a)(["\n  query booksByCategory($id: ID!) {\n    booksByCategory(id: $id) {\n      id\n      name\n      book {\n        id\n        name\n        images\n        year\n        numberOfReprint\n        publisher\n        category {\n          id\n          name\n        }\n      }\n      store {\n        id\n        name\n        avatar\n      }\n      amount\n      price\n      sold\n      name\n      images\n      year\n      numberOfReprint\n      publisher\n      category {\n        id\n        name\n      }\n      createdAt\n    }\n  }\n"]);return we=function(){return e},e}function Ne(){const e=Object(M.a)(["\n  query categories {\n    categories {\n      id\n      name\n      createdAt\n      updatedAt\n    }\n  }\n"]);return Ne=function(){return e},e}const Ce=Object(s.gql)(Ne()),Se=(Object(s.gql)(we()),Object(s.gql)(je())),$e=Object(s.gql)(Oe()),Ae=Object(s.gql)(xe());var qe=a(460),Ie=a(461),Ue=a(457),De=a(228);var Te=e=>De(e).format("DD-MM-YYYY hh:mm:ss");var Fe=a(60),Re=a(458);var Le=a(462);var Be=a(125);var Me=({imageUrl:e,onDelete:t})=>{const a=r.a.useState(!1),n=Object(R.a)(a,2),c=n[0],l=n[1],o=r.a.useState(!1),i=Object(R.a)(o,2),s=i[0],m=i[1],p=r.a.useState(!1),h=Object(R.a)(p,2),g=h[0],f=h[1],b=r.a.useState(!1),E=Object(R.a)(b,2),y=E[0],v=E[1],k=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{style:{display:"inline-block",padding:"10px",margin:"5px",width:"170px",height:"170px",position:"relative",transitionDelay:"0.3s",cursor:"pointer",border:"1px solid #d9d9d9"},onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1)},r.a.createElement("img",{src:e,alt:"cannotLoading",width:"150",height:"150",loading:"lazy"}),r.a.createElement("div",{style:{position:"absolute",width:"100%",height:"100%",top:"0",left:"0",display:c?"block":"none",background:"rgba(0,0,0,0.4)",transitionDelay:"0.3s"}}),r.a.createElement("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",display:c?"inline-block":"none"}},r.a.createElement("span",{style:{marginRight:"5px"}},r.a.createElement("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"eye",width:"20px",height:"20px",fill:s?"rgba(255, 255, 255, 1)":"rgba(255, 255, 255, 0.8)","aria-hidden":"true",onMouseEnter:()=>m(!0),onMouseLeave:()=>m(!1),onClick:k},r.a.createElement("path",{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}))),r.a.createElement("span",{style:{marginLeft:"5px"}},r.a.createElement("svg",{viewBox:"64 64 896 896",focusable:"false","data-icon":"delete",width:"20px",height:"20px",fill:g?"rgba(255, 255, 255, 1)":"rgba(255, 255, 255, 0.8)","aria-hidden":"true",onMouseEnter:()=>f(!0),onMouseLeave:()=>f(!1),onClick:t},r.a.createElement("path",{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z"})))),r.a.createElement(Re.a,{title:"Image",visible:y,onOk:!1,okText:null,onCancel:()=>{v(!1)},width:548,footer:null}," ",r.a.createElement("div",{style:{width:500,height:500,backgroundImage:"url("+e+")",backgroundRepeat:"no-repeat",backgroundSize:"cover"}})))};function ze(){const e=Object(M.a)(["\n  mutation uploadMultiFile($files: [Upload!]!) {\n    uploadMultiFile(files: $files) {\n      id\n      url\n      name\n      asset_id\n      public_id\n    }\n  }\n"]);return ze=function(){return e},e}function Pe(){const e=Object(M.a)(["\n  mutation uploadSingleFile($file: Upload!) {\n    uploadSingleFile(file: $file) {\n      url\n    }\n  }\n"]);return Pe=function(){return e},e}Object(s.gql)(Pe());const Ve=Object(s.gql)(ze());var Ye=a(246),_e=a.n(Ye);var He=[{path:"/manage-product",name:"Product",icon:"ni ni-bullet-list-67 text-red",component:function(){const e=r.a.useState([]),t=Object(R.a)(e,2),a=t[0],n=t[1],c=r.a.useState([]),l=Object(R.a)(c,2),i=l[0],s=l[1],m=r.a.useState("all"),p=Object(R.a)(m,2),h=p[0],g=p[1],f=r.a.useState(""),b=Object(R.a)(f,2),E=b[0],y=b[1],v=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L(Ce).then(({data:{categories:e}})=>{console.log(e),s(e)}).catch(e=>{console.log(e)});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L(be).then(({data:{uniqueBooks:e}})=>{console.log(e),n(e)}).catch(e=>{console.log(e)});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function x(e){}r.a.useEffect(()=>{v(),k()},[]);const O=[{title:"ID",dataIndex:"id",key:"id",fixed:"left",render:e=>r.a.createElement("strong",null,e.slice(-8)),onFilter:(e,t)=>0===t.name.indexOf(e)},{title:"Name",dataIndex:"name",key:"name",width:250,render:e=>r.a.createElement("strong",null,e)},{title:"Images",dataIndex:"images",key:"images",width:500,render:e=>r.a.createElement("div",null,e.map((e,t)=>r.a.createElement("div",{key:t,style:{display:"inline-block",padding:"5px",margin:"5px",width:"100px",height:"100px",cursor:"pointer",border:"1px solid #d9d9d9"}},r.a.createElement("img",{src:e,alt:"cannotLoading",width:"90",height:"90",loading:"lazy",style:{objectFit:"cover"}}))))},{title:"Author",dataIndex:"author",key:"author",width:250,render:e=>r.a.createElement("strong",null,e)},{title:"Publisher",dataIndex:"publisher",key:"publisher",width:250,render:e=>r.a.createElement("strong",null,e)},{title:"Category",dataIndex:"category",key:"category",width:250,render:e=>null===e||void 0===e?void 0:e.name},{title:"Created At",dataIndex:"createdAt",key:"createdAt",render:e=>Te(e)},{title:"Updated At",dataIndex:"updatedAt",key:"updatedAt",render:e=>Te(e)},{title:"Action",key:"action",fixed:"right",width:150,render:(e,t)=>r.a.createElement(qe.b,{size:"small",key:t.id},r.a.createElement(o.b,{to:"/admin/manage-product/"+t.id},r.a.createElement(ie.a,{size:"sm"},"View")),r.a.createElement(Ie.a,{title:"Are you sure to delete this product?",onConfirm:()=>{return e=t.id,void B(ke,{id:e}).then(e=>{se.b.success("Delete successful."),k()}).catch(e=>{console.log(e),se.b.error("Delete failed.")});var e},onCancel:x,okText:"Yes",cancelText:"No"},r.a.createElement(ie.a,{color:"danger",size:"sm"},"Delete")))}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{className:"mt-10 mb-10",fluid:!0},r.a.createElement(C.a,{className:"mt-10 mb-10"},r.a.createElement(S.a,{className:"mt-4 mb-4 "},r.a.createElement(re.a,{className:"shadow"},r.a.createElement(ce.a,{className:"border-0"},r.a.createElement(C.a,{className:"align-items-center"},r.a.createElement("div",{className:"col"},r.a.createElement("h2",{className:"mb-0"},"Products"),r.a.createElement(o.b,{to:"/admin/manage-product/add"},r.a.createElement(ie.a,{color:"primary",size:"md"},"Create"))),r.a.createElement("div",{className:"col"},r.a.createElement(ue.a,null,r.a.createElement("strong",null,"Category")),r.a.createElement(q.a,{type:"select",id:"category",value:h,onChange:e=>g(e.target.value)},r.a.createElement("option",{value:"all"},"All"),i.map(e=>r.a.createElement("option",{value:e.id,key:e.id},e.name)))),r.a.createElement("div",{className:"col"},r.a.createElement(ue.a,null,r.a.createElement("strong",null,"Search")),r.a.createElement(q.a,{type:"text",placeholder:"Enter id or name to find",id:"filterName",value:E,onChange:e=>y(e.target.value)})))),r.a.createElement(Ue.a,{columns:O,dataSource:a.filter(e=>e.name.toLowerCase().includes(E)||e.id.toLowerCase().includes(E)).filter(e=>"all"===h||e.category.id===h),scroll:{x:2e3},onChange:function(e,t,a,n){console.log("params",e,t,a,n)}}))))))},layout:"/admin",exact:!0},{path:"/manage-product/add",name:"Product",icon:"ni ni-bullet-list-67 text-red",component:function(){const e=r.a.useState({name:"Duy Quang",year:"1996",description:"M\u1ed9t th\u1eb1ng gi\xe0 ngh\xe8o kh\u1ed7, m\u1ed9t con \u0111\u0129 c\xf4 \u0111\u01a1n \u0111ang tr\xean h\xe0nh tr\xecnh c\u1ee7a m\xecnh.",numberOfReprint:1,publisher:"NBX Quang Nguyen",author:"Duy Quang"}),t=Object(R.a)(e,2),a=t[0],n=t[1],c=r.a.useState(["https://res.cloudinary.com/thaovan/image/upload/v1611683329/Dinosuar_shop/products/hkfpsyhgvuhhjdbp3p9m.jpg"]),l=Object(R.a)(c,2),o=l[0],i=l[1],m=r.a.useState(""),p=Object(R.a)(m,2),h=p[0],g=p[1],f=r.a.useState([]),b=Object(R.a)(f,2),E=b[0],y=b[1],v=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L(Ce).then(({data:{categories:e}})=>{console.log(e),y(e)}).catch(e=>{console.log(e)});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=Object(s.useMutation)(Ve,{onCompleted:e=>{const t=e.uploadMultiFile.map(e=>e.url);i([...o,...t])},onError:e=>{console.log("upload images error",e)}}),x=Object(R.a)(k,1)[0],O=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:B(ye,{dataCreate:Object(Fe.a)(Object(Fe.a)({},a),{},{images:o,category:h})}).then(e=>{se.b.success("Create successful.")}).catch(e=>{console.log(e),se.b.error("Create failed.")});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=e=>{console.log(e.target.value),n(Object(Fe.a)(Object(Fe.a)({},a),{},{[e.target.id]:e.target.value}))};r.a.useEffect(()=>{v()},[]),r.a.useEffect(()=>{console.log("images",o)},[o]),r.a.useEffect(()=>{console.log("Re-render")});const N=function(){var e=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a=t.target.files,console.log(a);try{x({variables:{files:a}})}catch(n){console.log(n)}case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=e=>()=>{const t=[...o];t.splice(e,1),i(t)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{className:"mt-10 mb-10",fluid:!0},r.a.createElement(C.a,{className:"mt-10 mb-10"},r.a.createElement(S.a,{className:"mt-4 mb-4 "},r.a.createElement(re.a,{className:"shadow"},r.a.createElement(ce.a,{className:"border-0"},r.a.createElement(C.a,{className:"align-items-center"},r.a.createElement("div",{className:"col"},r.a.createElement("h2",{className:"mb-0"},"Th\xeam s\u1ea3n ph\u1ea9m")))),r.a.createElement(j.a,{fluid:!0},r.a.createElement($.a,null,r.a.createElement(oe.a,null,r.a.createElement(ue.a,null,"H\xecnh \u1ea3nh"),r.a.createElement("div",null,o.map((e,t)=>r.a.createElement(Me,{imageUrl:e,key:1e3*Math.random()+"",onDelete:A(t)})),o.length<4?r.a.createElement("div",{style:{width:"170px",height:"170px",margin:"0 5px",position:"relative",display:"inline-block"}},r.a.createElement("input",{type:"file",id:"file",name:"file",onChange:N,className:"inputFile"}),r.a.createElement("label",{htmlFor:"file"},"+ T\u1ea3i l\xean")):null)),r.a.createElement(oe.a,null,r.a.createElement(ue.a,{htmlFor:"name"},"T\xean s\xe1ch"),r.a.createElement(q.a,{type:"text",name:"name",id:"name",placeholder:"Nh\u1eadp t\xean s\xe1ch",value:a.name?a.name:"",onChange:w})),r.a.createElement(oe.a,null,r.a.createElement(C.a,null,r.a.createElement(S.a,{xs:12,sm:12,md:4},r.a.createElement(ue.a,{htmlFor:"year"},"N\u0103m xu\u1ea5t b\u1ea3n"),r.a.createElement(q.a,{type:"text",name:"year",id:"year",placeholder:"Nh\u1eadp n\u0103m",value:a.year?a.year:"",onChange:w})),r.a.createElement(S.a,{xs:12,sm:12,md:4},r.a.createElement(ue.a,{htmlFor:"numberOfReprint"},"S\u1ed1 l\u1ea7n t\xe1i b\u1ea3n"),r.a.createElement(q.a,{type:"text",name:"numberOfReprint",id:"numberOfReprint",placeholder:"Nh\u1eadp s\u1ed1 l\u1ea7n t\xe1i b\u1ea3n",value:a.numberOfReprint?a.numberOfReprint:0,onChange:w})),r.a.createElement(S.a,{xs:12,sm:12,md:4},r.a.createElement(ue.a,{htmlFor:"category"},"Th\u1ec3 lo\u1ea1i"),r.a.createElement(Be.a,{id:"category",showSearch:!0,style:{width:"100%"},placeholder:"Select a category",optionFilterProp:"children",onChange:e=>((e,t)=>{t(e)})(e,g),value:h,filterOption:(e,t)=>t.children.toLowerCase().indexOf(e.toLowerCase())>=0},E.map(e=>r.a.createElement(Be.a.Option,{key:e.id,value:e.id},e.name)))))),r.a.createElement(oe.a,null,r.a.createElement(C.a,null,r.a.createElement(S.a,{xs:12,sm:12,md:6},r.a.createElement(ue.a,{htmlFor:"author"},"T\xe1c gi\u1ea3"),r.a.createElement(q.a,{type:"text",name:"author",id:"author",placeholder:"Nh\u1eadp t\xe1c gi\u1ea3",value:a.author?a.author:"",onChange:w})),r.a.createElement(S.a,{xs:12,sm:12,md:6},r.a.createElement(ue.a,{htmlFor:"publisher"},"Nh\xe0 xu\u1ea5t b\u1ea3n"),r.a.createElement(q.a,{type:"text",name:"publisher",id:"publisher",placeholder:"Nh\u1eadp nh\xe0 xu\u1ea5t b\u1ea3n",value:a.publisher?a.publisher:"",onChange:w})))),r.a.createElement(oe.a,null,r.a.createElement(ue.a,{htmlFor:"description"},"M\xf4 t\u1ea3"),r.a.createElement(q.a,{type:"textarea",name:"text",id:"description",placeholder:"Enter product description",value:a.description,onChange:w})),r.a.createElement(oe.a,null,r.a.createElement(ie.a,{onClick:O},"T\u1ea1o")))))))))},layout:"/admin",hide:!0},{path:"/manage-product/:productId",name:"Product",icon:"ni ni-bullet-list-67 text-red",component:function(){const e=Object(i.g)().productId;console.log(e);const t=r.a.useState({name:"Duy Quang",year:"1996",description:"M\u1ed9t th\u1eb1ng gi\xe0 ngh\xe8o kh\u1ed7, m\u1ed9t con \u0111\u0129 c\xf4 \u0111\u01a1n \u0111ang tr\xean h\xe0nh tr\xecnh c\u1ee7a m\xecnh.",numberOfReprint:1,publisher:"NBX Quang Nguyen",author:"Duy Quang"}),a=Object(R.a)(t,2),n=a[0],c=a[1],l=r.a.useState(["https://res.cloudinary.com/thaovan/image/upload/v1611683329/Dinosuar_shop/products/hkfpsyhgvuhhjdbp3p9m.jpg"]),o=Object(R.a)(l,2),s=o[0],m=o[1],p=r.a.useState(""),h=Object(R.a)(p,2),g=h[0],f=h[1],b=r.a.useState([]),E=Object(R.a)(b,2),y=E[0],v=E[1],k=function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:L(Ee,{id:e}).then(({data:{uniqueBook:e}})=>{c(Object(Fe.a)({},e)),m(e.images),f(e.category.id)}).catch(e=>{console.log(e)});case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),x=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L(Ce).then(({data:{categories:e}})=>{console.log(e),v(e)}).catch(e=>{console.log(e)});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:console.log(Object(Fe.a)(Object(Fe.a)({},n),{},{images:s,category:g})),B(ve,{dataUpdate:{name:n.name,numberOfReprint:+n.numberOfReprint,author:n.author,year:n.year,description:n.description,publisher:n.publisher,images:s,category:g},id:e}).then(e=>{se.b.success("Update successful.")}).catch(e=>{console.log(e),se.b.error("Update failed.")});case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),w=e=>{console.log(e.target.value),c(Object(Fe.a)(Object(Fe.a)({},n),{},{[e.target.id]:e.target.value}))};r.a.useEffect(()=>{k(),x()},[]),r.a.useEffect(()=>{console.log("images",s)},[s]),r.a.useEffect(()=>{console.log("Re-render")});const N=function(){var e=Object(d.a)(u.a.mark((function e(t){var a,n,r,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=t.target.files,console.log(a),e.prev=3,n={headers:{"Content-Type":"multipart/form-data"}},r=e=>new Promise(function(){var t=Object(d.a)(u.a.mark((function t(a,r){var c,l,o;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e[0],(l=new FormData).append("file",c),t.next=5,_e.a.post("http://localhost:3001/api/upload_single",l,n);case 5:o=t.sent,a(o.data.url);case 7:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()).then(e=>e).catch(e=>console.log(e)),e.next=8,r(a);case 8:c=e.sent,console.log(c),m([...s,c]),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t){return e.apply(this,arguments)}}(),A=e=>()=>{const t=[...s];t.splice(e,1),m(t)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{className:"mt-10 mb-10",fluid:!0},r.a.createElement(C.a,{className:"mt-10 mb-10"},r.a.createElement(S.a,{className:"mt-4 mb-4 "},r.a.createElement(re.a,{className:"shadow"},r.a.createElement(ce.a,{className:"border-0"},r.a.createElement(C.a,{className:"align-items-center"},r.a.createElement("div",{className:"col"},r.a.createElement("h2",{className:"mb-0"},"Th\xf4ng tin s\xe1ch")))),r.a.createElement(j.a,{fluid:!0},r.a.createElement($.a,null,r.a.createElement(oe.a,null,r.a.createElement(ue.a,null,"H\xecnh \u1ea3nh"),r.a.createElement("div",null,s.map((e,t)=>r.a.createElement(Me,{imageUrl:e,key:1e3*Math.random()+"",onDelete:A(t)})),s.length<4?r.a.createElement("div",{style:{width:"170px",height:"170px",margin:"0 5px",position:"relative",display:"inline-block"}},r.a.createElement("input",{type:"file",id:"file",name:"file",onChange:N,className:"inputFile"}),r.a.createElement("label",{htmlFor:"file"},"+ T\u1ea3i l\xean")):null)),r.a.createElement(oe.a,null,r.a.createElement(ue.a,{htmlFor:"name"},"T\xean s\xe1ch"),r.a.createElement(q.a,{type:"text",name:"name",id:"name",placeholder:"Nh\u1eadp t\xean s\xe1ch",value:n.name?n.name:"",onChange:w})),r.a.createElement(oe.a,null,r.a.createElement(C.a,null,r.a.createElement(S.a,{xs:12,sm:12,md:4},r.a.createElement(ue.a,{htmlFor:"year"},"N\u0103m xu\u1ea5t b\u1ea3n"),r.a.createElement(q.a,{type:"text",name:"year",id:"year",placeholder:"Nh\u1eadp n\u0103m",value:n.year?n.year:"",onChange:w})),r.a.createElement(S.a,{xs:12,sm:12,md:4},r.a.createElement(ue.a,{htmlFor:"numberOfReprint"},"S\u1ed1 l\u1ea7n t\xe1i b\u1ea3n"),r.a.createElement(q.a,{type:"number",name:"numberOfReprint",id:"numberOfReprint",placeholder:"Nh\u1eadp s\u1ed1 l\u1ea7n t\xe1i b\u1ea3n",value:n.numberOfReprint?n.numberOfReprint:0,onChange:w})),r.a.createElement(S.a,{xs:12,sm:12,md:4},r.a.createElement(ue.a,{htmlFor:"category"},"Th\u1ec3 lo\u1ea1i"),r.a.createElement(Be.a,{id:"category",showSearch:!0,style:{width:"100%"},placeholder:"Select a category",optionFilterProp:"children",onChange:e=>((e,t)=>{t(e)})(e,f),value:g,filterOption:(e,t)=>t.children.toLowerCase().indexOf(e.toLowerCase())>=0},y.map(e=>r.a.createElement(Be.a.Option,{key:e.id,value:e.id},e.name)))))),r.a.createElement(oe.a,null,r.a.createElement(C.a,null,r.a.createElement(S.a,{xs:12,sm:12,md:6},r.a.createElement(ue.a,{htmlFor:"author"},"T\xe1c gi\u1ea3"),r.a.createElement(q.a,{type:"text",name:"author",id:"author",placeholder:"Nh\u1eadp t\xe1c gi\u1ea3",value:n.author?n.author:"",onChange:w})),r.a.createElement(S.a,{xs:12,sm:12,md:6},r.a.createElement(ue.a,{htmlFor:"publisher"},"Nh\xe0 xu\u1ea5t b\u1ea3n"),r.a.createElement(q.a,{type:"text",name:"publisher",id:"publisher",placeholder:"Nh\u1eadp nh\xe0 xu\u1ea5t b\u1ea3n",value:n.publisher?n.publisher:"",onChange:w})))),r.a.createElement(oe.a,null,r.a.createElement(ue.a,{htmlFor:"description"},"M\xf4 t\u1ea3"),r.a.createElement(q.a,{type:"textarea",name:"text",id:"description",placeholder:"Enter product description",value:n.description,onChange:w})),r.a.createElement(oe.a,null,r.a.createElement(ie.a,{onClick:O},"C\u1eadp nh\u1eadt")))))))))},layout:"/admin",hide:!0},{path:"/manage-user",name:"User",icon:"ni ni-bullet-list-67 text-red",component:function(){const e=r.a.useState([]),t=Object(R.a)(e,2),a=t[0],n=t[1],c=r.a.useState(""),l=Object(R.a)(c,2),i=l[0],s=l[1],m=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L(ae).then(({data:{users:e}})=>{console.log(e),n(e)}).catch(e=>{console.log(e)});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function p(e){}r.a.useEffect(()=>{m()},[]);const h={ADMIN:"warning",STORE:"processing",MEMBER:"success"},g=[{title:"ID",dataIndex:"id",key:"id",render:e=>r.a.createElement(o.b,{to:"/admin/manage-user/"+e},e.slice(-8))},{title:"Name",dataIndex:"name",key:"name"},{title:"Email",dataIndex:"email",key:"email"},{title:"Phone",dataIndex:"phone",key:"phone"},{title:"Role",dataIndex:"role",key:"role",render:e=>r.a.createElement(Le.a,{color:h[e]},e)},{title:"Created At",dataIndex:"createdAt",key:"createdAt",render:e=>Te(e)},{title:"Updated At",dataIndex:"updatedAt",key:"updatedAt",render:e=>Te(e)},{title:"Action",key:"action",fixed:"right",width:90,render:(e,t)=>r.a.createElement(qe.b,{size:"small"},r.a.createElement(o.b,{to:"/admin/manage-user/"+t.id},r.a.createElement(ie.a,{size:"sm"},"View")),r.a.createElement(Ie.a,{title:"Are you sure to delete this user?",onConfirm:()=>(t.id,void se.b.error("Delete failed.")),onCancel:p,okText:"Yes",cancelText:"No"},r.a.createElement(ie.a,{color:"danger",size:"sm"},"Delete")))}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{className:"mt-10 mb-10",fluid:!0},r.a.createElement(C.a,{className:"mt-10 mb-10"},r.a.createElement(S.a,{className:"mt-4 mb-4 "},r.a.createElement(re.a,{className:"shadow"},r.a.createElement(ce.a,{className:"border-0"},r.a.createElement(C.a,{className:"align-items-center"},r.a.createElement("div",{className:"col"},r.a.createElement("h2",{className:"mb-0"},"Users")),r.a.createElement("div",{className:"col"},r.a.createElement(q.a,{type:"text",placeholder:"Enter id or name to find",id:"filterName",value:i,onChange:e=>s(e.target.value)})))),r.a.createElement(Ue.a,{columns:g,dataSource:a.filter(e=>e.id.toLowerCase().includes(i)||e.email.toLowerCase().includes(i)||e.name.toLowerCase().includes(i))}))))))},layout:"/admin",exact:!0},{path:"/manage-user/:userId",name:"User",icon:"ni ni-bullet-list-67 text-red",component:function(){const e=Object(i.g)().userId,t=r.a.useState({product:[]}),a=Object(R.a)(t,2),n=a[0],c=a[1],l=r.a.useState(!1),o=Object(R.a)(l,2),s=o[0],m=o[1],p=function(){var t=Object(d.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:L(ne,{id:e}).then(({data:{user:e}})=>{c(e)});case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();r.a.useEffect(()=>{p()},[]);const h=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:m(!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{className:"mt-10 mb-10",fluid:!0},r.a.createElement(C.a,{className:"mt-10 mb-10"},r.a.createElement(S.a,{className:"mt-4 mb-4 "},r.a.createElement(re.a,{className:"shadow"},r.a.createElement(ce.a,{className:"border-0"},r.a.createElement(C.a,{className:"align-items-center"},r.a.createElement("div",{className:"col"},r.a.createElement("h2",{className:"mb-0"},"User Detail")))),r.a.createElement(j.a,{fluid:!0},r.a.createElement($.a,null,r.a.createElement(oe.a,null,r.a.createElement("div",{style:{width:150,height:150,backgroundImage:n.avatar?"url("+n.avatar+")":"",backgroundRepeat:"no-repeat",backgroundSize:"cover",cursor:"pointer"},onClick:h}),r.a.createElement(Re.a,{title:"Avatar",visible:s,onOk:!1,okText:null,onCancel:()=>{m(!1)},width:348,footer:null}," ",r.a.createElement("div",{style:{width:300,height:300,backgroundImage:n.avatar?"url("+n.avatar+")":"",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}))),r.a.createElement(C.a,null,r.a.createElement(S.a,{sm:12,md:12,lg:6},r.a.createElement(oe.a,null,r.a.createElement(ue.a,null,"Name"),r.a.createElement(q.a,{defaultValue:n.name,disabled:!0}))),r.a.createElement(S.a,{sm:12,md:12,lg:6},r.a.createElement(oe.a,null,r.a.createElement(ue.a,null,"Email"),r.a.createElement(q.a,{defaultValue:n.email,disabled:!0})))),r.a.createElement(C.a,null,r.a.createElement(S.a,{sm:12,md:12,lg:6},r.a.createElement(oe.a,null,r.a.createElement(ue.a,null,"Gender"),r.a.createElement(q.a,{defaultValue:n.gender?"Nam":"N\u1eef",disabled:!0}))),r.a.createElement(S.a,{sm:12,md:12,lg:6},r.a.createElement(oe.a,null,r.a.createElement(ue.a,null,"Phone Number"),r.a.createElement(q.a,{defaultValue:n.phone,disabled:!0})))),r.a.createElement(oe.a,null,r.a.createElement(ue.a,null,"Address"),r.a.createElement(q.a,{defaultValue:n.address?n.address:"",disabled:!0})))))))))},layout:"/admin",hide:!0},{path:"/manage-category",name:"Category",icon:"ni ni-bullet-list-67 text-red",component:function(){const e=r.a.useState([]),t=Object(R.a)(e,2),a=t[0],c=t[1],l=r.a.useState({create:!1,id:"",name:""}),o=Object(R.a)(l,2),i=o[0],s=o[1],m=Object(n.useState)(!1),p=Object(R.a)(m,2),h=p[0],g=p[1],f=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L(Ce).then(({data:{categories:e}})=>{console.log(e),c(e)}).catch(e=>{console.log(e)});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=e=>{console.log(e.target.value),s(Object(Fe.a)(Object(Fe.a)({},i),{},{[e.target.id]:e.target.value}))},E=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:B(Se,{name:i.name}).then(e=>{console.log(e),se.b.success("Create successful."),f(),g(!1)}).catch(e=>{se.b.error("Create failed."),console.log(e)});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(d.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:B($e,{id:i.id,name:i.name}).then(e=>{console.log(e),se.b.success("Update successful."),f(),g(!1)}).catch(e=>{se.b.error("Create failed."),console.log(e)});case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();r.a.useEffect(()=>{f()},[]),r.a.useEffect(()=>{console.log(h)},[h]);const v=e=>{},k=[{title:"ID",dataIndex:"id",key:"id",render:e=>e.slice(-8)},{title:"Name",dataIndex:"name",key:"name"},{title:"Created At",dataIndex:"createdAt",key:"createdAt",render:e=>Te(e)},{title:"Updated At",dataIndex:"updatedAt",key:"updatedAt",render:e=>Te(e)},{title:"Action",key:"action",fixed:"right",width:180,render:(e,t)=>{return r.a.createElement(qe.b,{size:"small"},r.a.createElement(ie.a,{onClick:(a=t,()=>{console.log(a),g(!0),s(Object(Fe.a)({create:!1},a))}),size:"sm"},"Update"),r.a.createElement(Ie.a,{title:"Are you sure to delete this category?",onConfirm:()=>{return e=t.id,void B(Ae,{id:e}).then(e=>{console.log(e),f(),se.b.success("Delete successful.")}).catch(e=>{console.log(e),se.b.error("Delete failed.")});var e},onCancel:v,okText:"Yes",cancelText:"No"},r.a.createElement(ie.a,{color:"danger",size:"sm"},"Delete")));var a}}];return r.a.createElement(r.a.Fragment,null,r.a.createElement(j.a,{className:"mt-10 mb-10",fluid:!0},r.a.createElement(C.a,{className:"mt-10 mb-10"},r.a.createElement(S.a,{className:"mt-4 mb-4 "},r.a.createElement(re.a,{className:"shadow"},r.a.createElement(ce.a,{className:"border-0"},r.a.createElement(C.a,{className:"align-items-center"},r.a.createElement("div",{className:"col"},r.a.createElement("h2",{className:"mb-0"},"Categories")),r.a.createElement("div",{className:"col text-right"},r.a.createElement(ie.a,{color:"primary",onClick:()=>{s({create:!0,id:"",name:""}),g(!0)},size:"sm"},"Create")))),r.a.createElement(Ue.a,{columns:k,dataSource:a}),r.a.createElement(Re.a,{title:i.create?"Create":"Update",visible:h,onOk:i.create?E:y,onCancel:()=>{g(!1),s({create:!0,id:"",name:""})},okText:i.create?"Create":"Update"},r.a.createElement($.a,null,i.create?null:r.a.createElement(oe.a,null,r.a.createElement(ue.a,{for:"id"},"Id"),r.a.createElement(q.a,{disabled:!0,type:"text",name:"id",id:"id",placeholder:"",value:i.id,onChange:b,plaintext:!0})),r.a.createElement(oe.a,null,r.a.createElement(ue.a,{for:"name"},"Name"),r.a.createElement(q.a,{type:"text",name:"name",id:"name",placeholder:"Enter name of category",value:i.name,onChange:b})))))))))},layout:"/admin"},{path:"/login",name:"Logout",icon:"ni ni-circle-08 text-pink",component:me,layout:"/auth"}];class Qe extends r.a.Component{constructor(...e){super(...e),this.getRoutes=e=>e.map((e,t)=>"/admin"===e.layout?r.a.createElement(i.b,{path:e.layout+e.path,component:e.component,key:t,exact:!!e.exact}):null),this.getBrandText=e=>{for(let t=0;t<He.length;t++)if(-1!==this.props.location.pathname.indexOf(He[t].layout+He[t].path))return He[t].name;return"Brand"}}componentDidUpdate(e){document.documentElement.scrollTop=0,document.scrollingElement.scrollTop=0,this.refs.mainContent.scrollTop=0}render(){return console.log(sessionStorage.getItem("isLogged")),sessionStorage.getItem("isLogged")?r.a.createElement(r.a.Fragment,null,r.a.createElement(F,Object.assign({},this.props,{routes:He,logo:{innerLink:"/admin/manage-product",imgSrc:a(434),imgAlt:"..."}})),r.a.createElement("div",{className:"main-content",ref:"mainContent"},r.a.createElement(i.d,null,this.getRoutes(He),r.a.createElement(i.a,{from:"*",to:"/admin/manage-product"})))):r.a.createElement(i.a,{to:"/auth/login"})}}var Je=Qe;class We extends r.a.Component{render(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(O.a,{className:"navbar-top navbar-horizontal navbar-dark",expand:"md"},r.a.createElement(j.a,{className:"px-4"},r.a.createElement(w.a,{to:"/",tag:o.b},r.a.createElement("img",{alt:"...",src:a(435)})))))}}var Xe=We;class Ge extends r.a.Component{constructor(...e){super(...e),this.getRoutes=e=>e.map((e,t)=>"/auth"===e.layout?r.a.createElement(i.b,{path:e.layout+e.path,component:e.component,key:t}):null)}componentDidMount(){document.body.classList.add("bg-default")}componentWillUnmount(){document.body.classList.remove("bg-default")}render(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"main-content"},r.a.createElement(Xe,null),r.a.createElement("div",{className:"header bg-gradient-info py-7 py-lg-8"},r.a.createElement(j.a,null,r.a.createElement("div",{className:"header-body text-center mb-7"},r.a.createElement(C.a,{className:"justify-content-center"},r.a.createElement(S.a,{lg:"5",md:"6"},r.a.createElement("h1",{className:"text-white"},"Welcome!"))))),r.a.createElement("div",{className:"separator separator-bottom separator-skew zindex-100"},r.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",version:"1.1",viewBox:"0 0 2560 100",x:"0",y:"0"},r.a.createElement("polygon",{className:"fill-default",points:"2560 0 2560 100 0 100"})))),r.a.createElement(j.a,{className:"mt--8 pb-5"},r.a.createElement(C.a,{className:"justify-content-center"},r.a.createElement(i.d,null,this.getRoutes(He),r.a.createElement(i.a,{from:"*",to:"/auth/login"}))))))}}var Ke=Ge;l.a.render(r.a.createElement(s.ApolloProvider,{client:v},r.a.createElement(o.a,null,r.a.createElement(i.d,null,r.a.createElement(i.b,{path:"/admin",render:e=>r.a.createElement(Je,e)}),r.a.createElement(i.b,{path:"/auth",render:e=>r.a.createElement(Ke,e)}),r.a.createElement(i.a,{from:"/",to:"/auth/login"})))),document.getElementById("root"))}},[[256,1,2]]]);
//# sourceMappingURL=main.e41bf786.chunk.js.map